                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.1.0 #12072 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module msxromapp
                                      6 	.optsdcc -mz80
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _main
                                     12 	.globl _gameOver
                                     13 	.globl _game
                                     14 	.globl _title
                                     15 	.globl _print
                                     16 	.globl __print
                                     17 	.globl _Width
                                     18 	.globl _SetColors
                                     19 	.globl _Screen
                                     20 	.globl _Cls
                                     21 	.globl _Locate
                                     22 	.globl _InputChar
                                     23 	.globl _EoG
                                     24 	.globl _y
                                     25 	.globl _x
                                     26 ;--------------------------------------------------------
                                     27 ; special function registers
                                     28 ;--------------------------------------------------------
                                     29 ;--------------------------------------------------------
                                     30 ; ram data
                                     31 ;--------------------------------------------------------
                                     32 	.area _DATA
      000000                         33 _x::
      000000                         34 	.ds 1
      000001                         35 _y::
      000001                         36 	.ds 1
      000002                         37 _EoG::
      000002                         38 	.ds 1
                                     39 ;--------------------------------------------------------
                                     40 ; ram data
                                     41 ;--------------------------------------------------------
                                     42 	.area _INITIALIZED
                                     43 ;--------------------------------------------------------
                                     44 ; absolute external ram data
                                     45 ;--------------------------------------------------------
                                     46 	.area _DABS (ABS)
                                     47 ;--------------------------------------------------------
                                     48 ; global & static initialisations
                                     49 ;--------------------------------------------------------
                                     50 	.area _HOME
                                     51 	.area _GSINIT
                                     52 	.area _GSFINAL
                                     53 	.area _GSINIT
                                     54 ;--------------------------------------------------------
                                     55 ; Home
                                     56 ;--------------------------------------------------------
                                     57 	.area _HOME
                                     58 	.area _HOME
                                     59 ;--------------------------------------------------------
                                     60 ; code
                                     61 ;--------------------------------------------------------
                                     62 	.area _CODE
                                     63 ;msxromapp.c:22: void _print(char* msg) {
                                     64 ;	---------------------------------
                                     65 ; Function _print
                                     66 ; ---------------------------------
      000000                         67 __print::
                                     68 ;msxromapp.c:45: __endasm;
      000000 21 02 00         [10]   69 	ld	hl, #2; retrieve address from stack
      000003 39               [11]   70 	add	hl, sp
      000004 46               [ 7]   71 	ld	b, (hl)
      000005 23               [ 6]   72 	inc	hl
      000006 66               [ 7]   73 	ld	h, (hl)
      000007 68               [ 4]   74 	ld	l, b
      000008                         75 	_printMSG_loop	:
      000008 7E               [ 7]   76 	ld	a, (hl) ; print
      000009 B7               [ 4]   77 	or	a
      00000A C8               [11]   78 	ret	z
      00000B E5               [11]   79 	push	hl
      00000C DD E5            [15]   80 	push	ix
      00000E FD 2A C0 FC      [20]   81 	ld	iy, (0xfcc0)
      000012 DD 21 A2 00      [14]   82 	ld	ix, #0x00a2
      000016 CD 1C 00         [17]   83 	call	0x001c
      000019 FB               [ 4]   84 	ei	; in some MSXs (i.e. F1XV) CALSLT returns with di.
      00001A DD E1            [14]   85 	pop	ix
      00001C E1               [10]   86 	pop	hl
      00001D 23               [ 6]   87 	inc	hl
      00001E 18 E8            [12]   88 	jr	_printMSG_loop
                                     89 ;msxromapp.c:47: return;
                                     90 ;msxromapp.c:48: }
      000020 C9               [10]   91 	ret
      000021                         92 _Done_Version:
      000021 4D 61 64 65 20 77 69    93 	.ascii "Made with FUSION-C 1.2 (ebsoft)"
             74 68 20 46 55 53 49
             4F 4E 2D 43 20 31 2E
             32 20 28 65 62 73 6F
             66 74 29
      000040 00                      94 	.db 0x00
      000041                         95 _gameScreen:
      000041 2B 2D 2D 2D 2D 2D 2D    96 	.ascii "+------------------------------+|                           "
             2D 2D 2D 2D 2D 2D 2D
             2D 2D 2D 2D 2D 2D 2D
             2D 2D 2D 2D 2D 2D 2D
             2D 2D 2D 2B 7C 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20
      00007D 20 20 20 7C 7C 20 20    97 	.ascii "   ||                              ||                       "
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             7C 7C 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20
      0000B9 20 20 20 20 20 20 20    98 	.ascii "       ||                              ||                   "
             7C 7C 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 7C 7C 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20
      0000F5 20 20 20 20 20 20 20    99 	.ascii "           ||                              ||               "
             20 20 20 20 7C 7C 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 7C 7C 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20
      000131 20 20 20 20 20 20 20   100 	.ascii "               ||                              ||           "
             20 20 20 20 20 20 20
             20 7C 7C 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 7C 7C
             20 20 20 20 20 20 20
             20 20 20 20
      00016D 20 20 20 20 20 20 20   101 	.ascii "                   ||                              ||       "
             20 20 20 20 20 20 20
             20 20 20 20 20 7C 7C
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 7C 7C 20 20 20
             20 20 20 20
      0001A9 20 20 20 20 20 20 20   102 	.ascii "                       ||                              ||   "
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 7C 7C 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 7C
             7C 20 20 20
      0001E5 20 20 20 20 20 20 20   103 	.ascii "                           ||                              |"
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 7C
             7C 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 7C
      000221 7C 20 20 20 20 20 20   104 	.ascii "|                              ||                           "
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 7C 7C 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20
      00025D 20 20 20 7C 7C 20 20   105 	.ascii "   ||                              ||                       "
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             7C 7C 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20
      000299 20 20 20 20 20 20 20   106 	.ascii "       ||                              ||                   "
             7C 7C 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 7C 7C 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20
      0002D5 20 20 20 20 20 20 20   107 	.ascii "           ||                              |+---------------"
             20 20 20 20 7C 7C 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 7C 2B 2D 2D 2D 2D
             2D 2D 2D 2D 2D 2D 2D
             2D 2D 2D 2D
      000311 2D 2D 2D 2D 2D 2D 2D   108 	.ascii "---------------+ Score 0     High 0    Level 01"
             2D 2D 2D 2D 2D 2D 2D
             2D 2B 20 53 63 6F 72
             65 20 30 20 20 20 20
             20 48 69 67 68 20 30
             20 20 20 20 4C 65 76
             65 6C 20 30 31
      000340 00                     109 	.db 0x00
      000341 00                     110 	.db 0x00
      000342                        111 _titleScreen:
      000342 2B 2D 2D 2D 2D 2D 2D   112 	.ascii "+------------------------------+|                           "
             2D 2D 2D 2D 2D 2D 2D
             2D 2D 2D 2D 2D 2D 2D
             2D 2D 2D 2D 2D 2D 2D
             2D 2D 2D 2B 7C 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20
      00037E 20 20 20 7C 7C 20 20   113 	.ascii "   ||                              ||                       "
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             7C 7C 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20
      0003BA 20 20 20 20 20 20 20   114 	.ascii "       ||                              ||                   "
             7C 7C 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 7C 7C 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20
      0003F6 20 20 20 20 20 20 20   115 	.ascii "           ||                              ||               "
             20 20 20 20 7C 7C 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 7C 7C 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20
      000432 20 20 20 20 20 20 20   116 	.ascii "               ||                              ||           "
             20 20 20 20 20 20 20
             20 7C 7C 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 7C 7C
             20 20 20 20 20 20 20
             20 20 20 20
      00046E 20 20 20 20 20 20 20   117 	.ascii "                   ||        S  N  A  K  E         ||       "
             20 20 20 20 20 20 20
             20 20 20 20 20 7C 7C
             20 20 20 20 20 20 20
             20 53 20 20 4E 20 20
             41 20 20 4B 20 20 45
             20 20 20 20 20 20 20
             20 20 7C 7C 20 20 20
             20 20 20 20
      0004AA 20 20 20 20 20 20 20   118 	.ascii "                       ||                              ||   "
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 7C 7C 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 7C
             7C 20 20 20
      0004E6 20 20 20 20 20 20 20   119 	.ascii "                           ||                              |"
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 7C
             7C 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 7C
      000522 7C 20 20 20 20 20 20   120 	.ascii "|                              ||                           "
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 7C 7C 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20
      00055E 20 20 20 7C 7C 20 20   121 	.ascii "   ||                              ||                       "
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             7C 7C 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20
      00059A 20 20 20 20 20 20 20   122 	.ascii "       ||                              ||                   "
             7C 7C 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 7C 7C 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20
      0005D6 20 20 20 20 20 20 20   123 	.ascii "           ||                              |+---------------"
             20 20 20 20 7C 7C 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 20 20 20 20 20
             20 7C 2B 2D 2D 2D 2D
             2D 2D 2D 2D 2D 2D 2D
             2D 2D 2D 2D
      000612 2D 2D 2D 2D 2D 2D 2D   124 	.ascii "---------------+              2021             "
             2D 2D 2D 2D 2D 2D 2D
             2D 2B 20 20 20 20 20
             20 20 20 20 20 20 20
             20 20 32 30 32 31 20
             20 20 20 20 20 20 20
             20 20 20 20 20
      000641 00                     125 	.db 0x00
      000642 00                     126 	.db 0x00
      000643                        127 _gameOverMsg:
      000643 2B 2D 2D 2D 2D 2D 2D   128 	.ascii "+------------------------------+|      G A M E     O V E R  "
             2D 2D 2D 2D 2D 2D 2D
             2D 2D 2D 2D 2D 2D 2D
             2D 2D 2D 2D 2D 2D 2D
             2D 2D 2D 2B 7C 20 20
             20 20 20 20 47 20 41
             20 4D 20 45 20 20 20
             20 20 4F 20 56 20 45
             20 52 20 20
      00067F 20 20 20 7C 2B 2D 2D   129 	.ascii "   |+------------------------------+"
             2D 2D 2D 2D 2D 2D 2D
             2D 2D 2D 2D 2D 2D 2D
             2D 2D 2D 2D 2D 2D 2D
             2D 2D 2D 2D 2D 2D 2D
             2B
      0006A3 00                     130 	.db 0x00
                                    131 ;msxromapp.c:54: void print(char* msg) {
                                    132 ;	---------------------------------
                                    133 ; Function print
                                    134 ; ---------------------------------
      0006A4                        135 _print::
                                    136 ;msxromapp.c:56: _print("[DEBUG]");
      0006A4 21rB6r06         [10]  137 	ld	hl, #___str_4
      0006A7 E5               [11]  138 	push	hl
      0006A8 CDr00r00         [17]  139 	call	__print
      0006AB F1               [10]  140 	pop	af
                                    141 ;msxromapp.c:58: _print(msg);
      0006AC C1               [10]  142 	pop	bc
      0006AD E1               [10]  143 	pop	hl
      0006AE E5               [11]  144 	push	hl
      0006AF C5               [11]  145 	push	bc
      0006B0 E5               [11]  146 	push	hl
      0006B1 CDr00r00         [17]  147 	call	__print
      0006B4 F1               [10]  148 	pop	af
                                    149 ;msxromapp.c:59: return;
                                    150 ;msxromapp.c:60: }
      0006B5 C9               [10]  151 	ret
      0006B6                        152 ___str_4:
      0006B6 5B 44 45 42 55 47 5D   153 	.ascii "[DEBUG]"
      0006BD 00                     154 	.db 0x00
                                    155 ;msxromapp.c:62: void title() {
                                    156 ;	---------------------------------
                                    157 ; Function title
                                    158 ; ---------------------------------
      0006BE                        159 _title::
                                    160 ;msxromapp.c:63: Cls();
      0006BE CDr00r00         [17]  161 	call	_Cls
                                    162 ;msxromapp.c:64: print(titleScreen);
      0006C1 21r42r03         [10]  163 	ld	hl, #_titleScreen
      0006C4 E5               [11]  164 	push	hl
      0006C5 CDrA4r06         [17]  165 	call	_print
      0006C8 F1               [10]  166 	pop	af
                                    167 ;msxromapp.c:65: InputChar();
                                    168 ;msxromapp.c:66: }
      0006C9 C3r00r00         [10]  169 	jp	_InputChar
                                    170 ;msxromapp.c:68: void game() {
                                    171 ;	---------------------------------
                                    172 ; Function game
                                    173 ; ---------------------------------
      0006CC                        174 _game::
                                    175 ;msxromapp.c:69: Cls();
      0006CC CDr00r00         [17]  176 	call	_Cls
                                    177 ;msxromapp.c:70: print(gameScreen);
      0006CF 21r41r00         [10]  178 	ld	hl, #_gameScreen
      0006D2 E5               [11]  179 	push	hl
      0006D3 CDrA4r06         [17]  180 	call	_print
                                    181 ;msxromapp.c:73: x = 10;
                                    182 ;msxromapp.c:74: y = 10;
                                    183 ;msxromapp.c:75: EoG = false;
      0006D6 3E 0A            [ 7]  184 	ld	a,#0x0a
      0006D8 32r00r00         [13]  185 	ld	(#_x),a
      0006DB 32r01r00         [13]  186 	ld	(#_y), a
      0006DE F1               [10]  187 	pop	af
      0006DF FD 21r02r00      [14]  188 	ld	iy,#_EoG
      0006E3 FD 36 00 00      [19]  189 	ld	0 (iy), #0x00
                                    190 ;msxromapp.c:78: while (!EoG) {
      0006E7                        191 00101$:
      0006E7 FD 21r02r00      [14]  192 	ld	iy, #_EoG
      0006EB FD CB 00 46      [20]  193 	bit	0, 0 (iy)
      0006EF C2r00r00         [10]  194 	jp	NZ,_InputChar
                                    195 ;msxromapp.c:79: Locate(x, y);
      0006F2 3Ar01r00         [13]  196 	ld	a,(#_y + 0)
      0006F5 F5               [11]  197 	push	af
      0006F6 33               [ 6]  198 	inc	sp
      0006F7 3Ar00r00         [13]  199 	ld	a,(#_x + 0)
      0006FA F5               [11]  200 	push	af
      0006FB 33               [ 6]  201 	inc	sp
      0006FC CDr00r00         [17]  202 	call	_Locate
                                    203 ;msxromapp.c:80: print("*");
      0006FF 21r09r07         [10]  204 	ld	hl, #___str_5
      000702 E3               [19]  205 	ex	(sp),hl
      000703 CDrA4r06         [17]  206 	call	_print
      000706 F1               [10]  207 	pop	af
                                    208 ;msxromapp.c:83: InputChar();
                                    209 ;msxromapp.c:84: }
      000707 18 DE            [12]  210 	jr	00101$
      000709                        211 ___str_5:
      000709 2A                     212 	.ascii "*"
      00070A 00                     213 	.db 0x00
                                    214 ;msxromapp.c:86: void gameOver() {
                                    215 ;	---------------------------------
                                    216 ; Function gameOver
                                    217 ; ---------------------------------
      00070B                        218 _gameOver::
                                    219 ;msxromapp.c:87: Locate(0, 10);
      00070B 3E 0A            [ 7]  220 	ld	a, #0x0a
      00070D F5               [11]  221 	push	af
      00070E 33               [ 6]  222 	inc	sp
      00070F AF               [ 4]  223 	xor	a, a
      000710 F5               [11]  224 	push	af
      000711 33               [ 6]  225 	inc	sp
      000712 CDr00r00         [17]  226 	call	_Locate
                                    227 ;msxromapp.c:88: print(gameOverMsg);
      000715 21r43r06         [10]  228 	ld	hl, #_gameOverMsg
      000718 E3               [19]  229 	ex	(sp),hl
      000719 CDrA4r06         [17]  230 	call	_print
      00071C F1               [10]  231 	pop	af
                                    232 ;msxromapp.c:89: InputChar();
                                    233 ;msxromapp.c:90: }
      00071D C3r00r00         [10]  234 	jp	_InputChar
                                    235 ;msxromapp.c:92: void main(void) {
                                    236 ;	---------------------------------
                                    237 ; Function main
                                    238 ; ---------------------------------
      000720                        239 _main::
                                    240 ;msxromapp.c:93: Screen(1);
      000720 3E 01            [ 7]  241 	ld	a, #0x01
      000722 F5               [11]  242 	push	af
      000723 33               [ 6]  243 	inc	sp
      000724 CDr00r00         [17]  244 	call	_Screen
      000727 33               [ 6]  245 	inc	sp
                                    246 ;msxromapp.c:94: Width(32);
      000728 3E 20            [ 7]  247 	ld	a, #0x20
      00072A F5               [11]  248 	push	af
      00072B 33               [ 6]  249 	inc	sp
      00072C CDr00r00         [17]  250 	call	_Width
      00072F 33               [ 6]  251 	inc	sp
                                    252 ;msxromapp.c:95: SetColors(255, 0, 0);
      000730 AF               [ 4]  253 	xor	a, a
      000731 F5               [11]  254 	push	af
      000732 33               [ 6]  255 	inc	sp
      000733 AF               [ 4]  256 	xor	a, a
      000734 57               [ 4]  257 	ld	d,a
      000735 1E FF            [ 7]  258 	ld	e,#0xff
      000737 D5               [11]  259 	push	de
      000738 CDr00r00         [17]  260 	call	_SetColors
      00073B F1               [10]  261 	pop	af
      00073C 33               [ 6]  262 	inc	sp
                                    263 ;msxromapp.c:98: while (1) {
      00073D                        264 00102$:
                                    265 ;msxromapp.c:99: title();
      00073D CDrBEr06         [17]  266 	call	_title
                                    267 ;msxromapp.c:100: game();
      000740 CDrCCr06         [17]  268 	call	_game
                                    269 ;msxromapp.c:101: gameOver();
      000743 CDr0Br07         [17]  270 	call	_gameOver
                                    271 ;msxromapp.c:103: }
      000746 18 F5            [12]  272 	jr	00102$
                                    273 	.area _CODE
                                    274 	.area _INITIALIZER
                                    275 	.area _CABS (ABS)
